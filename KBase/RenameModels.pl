#!/usr/bin/perl -w

use strict;
use Data::Dumper;
use fba_tools::fba_toolsImpl;
local $| = 1;

my $handler = fba_tools::fba_toolsImpl->new();
Bio::KBase::kbaseenv::create_context_from_client_config();
Bio::KBase::ObjectAPI::functions::set_handler($handler);

my $ws = Bio::KBase::kbaseenv::ws_client();

#100226.1
my $genomes = [qw(
192222.1
221988.1
243265.1
266940.5
290402.34
326442.4
62977.3
106370.11
196600.1
223926.1
243273.1
267608.1
290633.1
335992.3
71421.1
107806.1
196627.4
224308.1
243274.1
267671.1
292415.3
342108.5
76114.4
115711.7
198094.1
224324.1
243276.1
292459.1
345073.6
76869.3
122586.1
198215.1
224326.1
243277.1
269798.12
295405.3
360095.3
83332.1
158878.1
203267.1
224911.1
246194.3
269799.3
296591.1
360110.3
83333.1
158879.1
203907.1
224914.1
246200.3
272560.3
298386.1
360111.3
85962.1
160490.1
205922.3
227377.1
247156.1
272561.1
299768.3
36870.1
85963.1
160492.1
206672.1
228410.1
257313.1
272562.1
300852.3
36873.1
93061.3
163164.1
207559.3
234826.3
258594.1
272623.1
302409.3
370552.3
99287.1
169963.1
208964.1
235909.3
261594.1
272624.3
309807.19
376686.6
170187.1
211586.1
262768.1
272626.1
316407.3
386656.4
171101.1
212717.1
242619.1
264203.3
272635.1
393117.3
176299.3
214092.1
243164.3
264462.1
272947.1
319701.3
393130.3
177416.3
216596.1
243230.1
265072.7
281090.3
323098.3
399726.4
190304.1
216598.1
243231.1
266117.6
283942.3
323261.3
401614.5
190650.1
220668.1
243233.4
266834.1
290397.13
326298.3
445932.3
)];

my $count = 0;
my $rxn_not_found = {};
foreach my $genome (@{$genomes}) {
	print $genome."\n";
	my $g = $handler->util_get_object("chenry:narrative_1524167538737/".$genome);
	$ws->rename_object({
		obj => {"ref" => "chenry:narrative_1524167538737/".$g->id().".fbamodel"},
		new_name => $genome.".RAST2.mdl"
	});
	$g->id($genome);
	$handler->util_save_object($g,"chenry:narrative_1524167538737/".$genome);
	$g = $handler->util_get_object("chenry:narrative_1524167538737/".$genome.".RAST2");
	$g->id($genome."RAST2");
	$handler->util_save_object($g,"chenry:narrative_1524167538737/".$genome.".RAST2");
}